/* Базовые стили */
.container {
    width: 100%;
    max-width: 1600px;
    margin: 0 auto;
    padding: 0 20px;
}

.flex {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

/* Фон и общие стили */
body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #4facfe 75%, #00f2fe 100%);
    background-size: 400% 400%;
    animation: gradientShift 15s ease infinite;
    min-height: 100vh;
    position: relative;
    overflow-x: hidden;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Звезды на фоне */
.stars {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.stars::before,
.stars::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    box-shadow: 
        100px 200px white,
        300px 100px white,
        500px 300px white,
        700px 150px white,
        900px 250px white,
        1100px 80px white,
        1300px 320px white,
        200px 400px white,
        400px 450px white,
        600px 500px white,
        800px 380px white,
        1000px 420px white,
        1200px 480px white,
        1400px 350px white;
    animation: twinkle 3s infinite;
}

.stars::after {
    animation-delay: 1.5s;
    box-shadow: 
        150px 180px white,
        350px 120px white,
        550px 280px white,
        750px 130px white,
        950px 220px white,
        1150px 90px white,
        1350px 310px white,
        250px 390px white,
        450px 440px white,
        650px 490px white,
        850px 370px white,
        1050px 410px white,
        1250px 470px white,
        1450px 340px white;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.3; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.2); }
}

/* Снежинки */
.snowflakes {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 2;
    overflow: hidden;
}

.snowflake {
    position: absolute;
    top: -10px;
    font-size: 20px;
    color: white;
    opacity: 0.8;
    animation: snowfall linear infinite;
}

.snowflake:nth-child(1) {
    left: 10%;
    animation-duration: 10s;
    animation-delay: 0s;
}

.snowflake:nth-child(2) {
    left: 20%;
    animation-duration: 12s;
    animation-delay: 1s;
}

.snowflake:nth-child(3) {
    left: 30%;
    animation-duration: 14s;
    animation-delay: 2s;
}

.snowflake:nth-child(4) {
    left: 40%;
    animation-duration: 11s;
    animation-delay: 0.5s;
}

.snowflake:nth-child(5) {
    left: 50%;
    animation-duration: 13s;
    animation-delay: 1.5s;
}

.snowflake:nth-child(6) {
    left: 60%;
    animation-duration: 15s;
    animation-delay: 2.5s;
}

.snowflake:nth-child(7) {
    left: 70%;
    animation-duration: 10s;
    animation-delay: 0.3s;
}

.snowflake:nth-child(8) {
    left: 80%;
    animation-duration: 12s;
    animation-delay: 1.3s;
}

.snowflake:nth-child(9) {
    left: 90%;
    animation-duration: 14s;
    animation-delay: 2.3s;
}

.snowflake:nth-child(10) {
    left: 15%;
    animation-duration: 13s;
    animation-delay: 0.8s;
}

.snowflake:nth-child(11) {
    left: 55%;
    animation-duration: 11s;
    animation-delay: 1.8s;
}

.snowflake:nth-child(12) {
    left: 85%;
    animation-duration: 15s;
    animation-delay: 2.8s;
}

@keyframes snowfall {
    0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.8;
    }
    100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
    }
}

/* Заголовок */
.header {
    text-align: center;
    padding: 60px 20px 40px;
    position: relative;
    z-index: 10;
}

.title {
    font-family: 'Playfair Display', serif;
    font-size: 4rem;
    font-weight: 700;
    color: white;
    text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
    margin-bottom: 15px;
    animation: fadeInDown 1s ease-out;
}

.subtitle {
    font-family: 'Montserrat', sans-serif;
    font-size: 1.5rem;
    font-weight: 300;
    color: rgba(255, 255, 255, 0.95);
    text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
    animation: fadeInUp 1s ease-out 0.3s both;
}

@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Галерея */
.main {
    padding: 40px 0 80px;
    position: relative;
    z-index: 10;
}

.gallery {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 30px;
    padding: 20px 0;
}

/* Поляроидный стиль для фотографий */
.photo-item {
    position: relative;
    opacity: 0;
    transform: translateY(50px) scale(0.8);
    animation: photoAppear 0.8s ease-out forwards;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.photo-item.visible {
    opacity: 1;
    transform: translateY(0) scale(1);
}

@keyframes photoAppear {
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.polaroid {
    background: white;
    padding: 15px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.polaroid::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s;
}

.photo-item:hover .polaroid::before {
    opacity: 1;
}

.photo-item:hover .polaroid {
    transform: scale(1.05) rotate(0deg) !important;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    z-index: 100;
}

.photo-item:hover .photo-image {
    transform: scale(1.05);
}

.photo-image {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.4s ease, opacity 0.3s ease;
    object-fit: cover;
    opacity: 1;
}

/* Видео в галерее */
.frame-inner {
    position: relative;
    width: 100%;
    overflow: hidden;
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    flex: 1 0 auto;
}

/* Спиннер загрузки для фотографий в галерее */
.photo-spinner {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    z-index: 5;
}

.heart-loader-small {
    font-size: 2rem;
    animation: heartPulse 1.5s ease-in-out infinite;
    color: #ff6b9d;
    filter: drop-shadow(0 0 8px rgba(255, 107, 157, 0.5));
}

.frame-inner video {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
}

/* Play кнопка для видео */
.video-play-button {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
    filter: drop-shadow(0 4px 15px rgba(0, 0, 0, 0.3));
}

.video-play-button .play-icon {
    width: 100%;
    height: 100%;
    object-fit: contain;
    transition: all 0.3s ease;
}

.video-play-button:hover {
    transform: translate(-50%, -50%) scale(1.15);
    filter: drop-shadow(0 6px 20px rgba(0, 0, 0, 0.4));
}

.video-play-button:hover .play-icon {
    filter: brightness(1.1);
}

.photo-item:hover .video-play-button {
    transform: translate(-50%, -50%) scale(1.2);
}

.photo-caption {
    position: relative;
    font-family: 'Montserrat', sans-serif;
    font-size: 0.9rem;
    color: #333;
    text-align: center;
    font-weight: 400;
    line-height: 1.4;
    padding: 10px 0 0;
    margin-top: 10px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    flex-shrink: 0;
}

.photo-caption span {
    display: block;
    margin-top: 5px;
    font-weight: 300;
    letter-spacing: 0.5px;
}

/* Lightbox */
.lightbox {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    z-index: 1000;
    justify-content: center;
    align-items: center;
    opacity: 0;
    transition: opacity 0.3s;
}

.lightbox.active {
    display: flex;
    opacity: 1;
}

.lightbox-image {
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
    box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
    animation: lightboxZoom 0.3s ease-out;
    display: flex;
    align-items: center;
    justify-content: center;
}

.lightbox-image img,
.lightbox-image video {
    max-width: 100%;
    max-height: 90vh;
    object-fit: contain;
    border-radius: 10px;
}

/* Спиннер загрузки с сердечком */
.lightbox-spinner {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    min-height: 300px;
}

.heart-loader {
    font-size: 3rem;
    animation: heartPulse 1.5s ease-in-out infinite;
    color: #ff6b9d;
    filter: drop-shadow(0 0 10px rgba(255, 107, 157, 0.5));
}

/* Увеличение спиннеров на мобильных устройствах в 3 раза */
@media (max-width: 768px) {
    .heart-loader-small {
        font-size: 6rem; /* 2rem * 3 = 6rem */
    }
    
    .heart-loader {
        font-size: 9rem; /* 3rem * 3 = 9rem */
    }
}

@keyframes heartPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.8;
    }
    50% {
        transform: scale(1.3);
        opacity: 1;
    }
}

/* Сообщение об ошибке загрузки */
.lightbox-error {
    color: white;
    font-family: 'Montserrat', sans-serif;
    font-size: 1.2rem;
    text-align: center;
    padding: 30px;
}

@keyframes lightboxZoom {
    from {
        transform: scale(0.8);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

.lightbox-caption {
    position: absolute;
    bottom: 0;
    left: 0;
    color: white;
    font-family: 'Montserrat', sans-serif;
    font-size: 1rem;
    text-align: center;
    padding: 15px 30px;
    background: rgba(0, 0, 0, 0.7);
    border-radius: 25px;
    width: 100%;
}

.lightbox-close {
    position: absolute;
    top: 30px;
    right: 30px;
    font-size: 3rem;
    color: white;
    background: none;
    border: none;
    cursor: pointer;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.2s;
    z-index: 1001;
}

.lightbox-close:hover {
    transform: rotate(90deg) scale(1.2);
}

.lightbox-prev,
.lightbox-next {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 4rem;
    color: white;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    cursor: pointer;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s;
    z-index: 1001;
}

.lightbox-prev {
    left: 30px;
}

.lightbox-next {
    right: 30px;
}

.lightbox-prev:hover,
.lightbox-next:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-50%) scale(1.1);
}

/* Адаптивность */
@media (max-width: 768px) {
    .title {
        font-size: 2.5rem;
    }
    
    .subtitle {
        font-size: 1.2rem;
    }
    
    .gallery {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
    }
    
    .lightbox-prev,
    .lightbox-next {
        width: 50px;
        height: 50px;
        font-size: 3rem;
    }
    
    .lightbox-prev {
        left: 10px;
    }
    
    .lightbox-next {
        right: 10px;
    }
    
    .lightbox-close {
        top: 15px;
        right: 15px;
        font-size: 2.5rem;
    }
}

@media (max-width: 480px) {
    .gallery {
        grid-template-columns: 1fr;
        gap: 25px;
    }
    
    .title {
        font-size: 2rem;
    }
}
